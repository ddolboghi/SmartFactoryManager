{% extends 'fixed.html' %}
{% block content %}
<div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
	<div class="container py-5">
		<div class="row g-5">
			<div class="col-lg-7">
				<div class="section-title position-relative pb-3 mb-5">
					<h1 class="mb-0" style="font-family: 'NotoSansKR-Bold';">객체 탐지 AI를 활용한 도어 양품 판별</h1>
				</div>
				<div class="bg-light rounded d-flex align-items-center p-5 wow zoomIn" data-wow-delay="0.9s">
					<form class="form-signin" method="post" enctype="multipart/form-data">
						<div class="row g-3">
							<div class="col-xl-12">
								<input type="file" name="file" class="form-control-file" id="inputfile" onchange="previewImage(this);">
							</div>
							<p class="mb-4" style="font-family: 'NotoSansKR-Regular';">
								자동차 부품 제조 공정 중, 도어 공정에서 흔히 발생하는 스크래치 불량과 외관손상 불량을 타겟으로 삼아 실시간 객체 탐지 모델을 통해 불량품을 판정합니다.
							</p>
							<div class="col-12">
								<button type="submit" id="uploadButton" class="btn btn-dark w-100 py-3">검사하기</button>
							</div>
						</div>
					</form>
				</div>
			</div>
			<div class="col-lg-5" style="min-height: 500px;">
				<div class="position-relative h-100 border border-2 d-flex align-items-center justify-content-center">
					<i id="iconPreview" class="fa-regular fa-image position-absolute"></i>
					<img id="imagePreview" class="position-absolute w-100 h-100 rounded wow zoomIn" data-wow-delay="0.9s" src="#" style="object-fit:contain;display:none;" alt="Car door image">
				</div>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">
  $(document).ready(function() {
    $('#inputfile').bind('change', function () {
      let fileSize = this.files[0].size / 1024 / 1024; // this gives in MB
      if (fileSize > 1) {
        $("#inputfile").val(null);
        alert('file is too big. images more than 1MB are not allowed')
        return;
      }

      let ext = $('#inputfile').val().split('.').pop().toLowerCase();
      if ($.inArray(ext, ['jpg', 'jpeg', 'png']) == -1) {
        $("#inputfile").val(null);
        alert('only jpeg/jpg/png files are allowed!');
      }
    });

    $('#uploadButton').on('click', function() {
      if ($("#inputfile").get(0).files.length === 0) {
        alert("먼저 이미지를 선택해주세요.");
      } else {
        // Submit the form here if a file is selected.
        $(".form-signin").submit();
      }
    });
  });
</script>
{% endblock content %}
