{% extends 'fixed.html' %}
{% block content %}
<div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
	<div class="container py-5">
		<div class="row g-5">
			<div class="col-lg-7">
				<div class="section-title position-relative pb-3 mb-5">
					<h1 class="mb-0" style="font-family: 'NotoSansKR-Bold';">객체 탐지 AI를 활용한 도어 양품 판별</h1>
				</div>
				<form class="form-signin card mb-6 mt-5" method="post" enctype="multipart/form-data">
					<div class="d-flex align-items-center mb-4 wow fadeIn" data-wow-delay="0.6s">
						<div class="bg-primary d-flex align-items-center justify-content-center rounded" style="width: 60px; height: 60px;">
							<i class="bi bi-upload"></i>
						</div>
						<div class="ps-4">
							<input type="file" name="file" class="form-control-file" id="inputfile" onchange="previewImage(this);">
						</div>
					</div>
					<button type="submit" id="uploadButton" class="btn btn-primary py-3 px-5 mt-3 wow zoomIn" data-wow-delay="0.9s">
						<span class="box">검사하기</span>
					</button>
				</form>
				<p class="mb-4" style="font-family: 'NotoSansKR-Regular';">
					자동차 부품 제조 공정 중, 도어 공정에서 흔히 발생하는 스크래치 불량과 외관손상 불량을 타겟으로 삼아 실시간 객체 탐지 모델을 통해 불량품을 판정합니다.
				</p>
				<div class="row g-0 mb-3">
					<div class="col-sm-6 wow zoomIn" data-wow-delay="0.2s">
						<h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>YOLOv7</h5>
						<h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i><img src="static\images\AI-Hub_logo.png" alt="AI HUB"></h5>
					</div>
					<div class="col-sm-6 wow zoomIn" data-wow-delay="0.4s">
						<h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Google Cloud Platform</h5>
						<h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Jupyter Notebook</h5>
					</div>
				</div>
			</div>
			<div class="col-lg-5" style="min-height: 500px;">
				<div class="position-relative h-100">
					<img id="imagePreview" class="position-absolute w-100 h-100 rounded wow zoomIn" data-wow-delay="0.9s" src="#" style="object-fit: cover;display:none;" alt="Car door image">
				</div>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">
  $(document).ready(function() {
    $('#inputfile').bind('change', function () {
      let fileSize = this.files[0].size / 1024 / 1024; // this gives in MB
      if (fileSize > 1) {
        $("#inputfile").val(null);
        alert('file is too big. images more than 1MB are not allowed')
        return;
      }

      let ext = $('#inputfile').val().split('.').pop().toLowerCase();
      if ($.inArray(ext, ['jpg', 'jpeg', 'png']) == -1) {
        $("#inputfile").val(null);
        alert('only jpeg/jpg/png files are allowed!');
      }
    });

    $('#uploadButton').on('click', function() {
      if ($("#inputfile").get(0).files.length === 0) {
        alert("먼저 이미지를 선택해주세요.");
      } else {
        // Submit the form here if a file is selected.
        $(".form-signin").submit();
      }
    });
  });
</script>
{% endblock content %}
